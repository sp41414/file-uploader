// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
    provider = "prisma-client-js"
    output   = "../generated/prisma"
}

datasource db {
    provider = "postgresql"
}

model Users {
    id        Int      @id @default(autoincrement())
    name      String
    hash      String
    createdAt DateTime @default(now())

    files   Files[]
    folders Folders[]
}

model Files {
    id        String   @id @default(uuid())
    name      String
    size      Int
    url       String
    path      String
    createdAt DateTime @default(now())

    users     Users?   @relation(fields: [usersId], references: [id])
    usersId   Int?
    folders   Folders? @relation(fields: [foldersId], references: [id])
    foldersId String?
}

model Folders {
    id        String   @id @default(uuid())
    name      String
    createdAt DateTime @default(now())

    files Files[]

    users   Users? @relation(fields: [usersId], references: [id])
    usersId Int?
}

model Session {
    id        String   @id
    sid       String   @unique
    data      String
    expiresAt DateTime
}
